[gd_scene load_steps=17 format=2]

[ext_resource path="res://src/Level/LevelRooms/BitterTemplate.tscn" type="PackedScene" id=1]
[ext_resource path="res://src/Objects/Spawners/RandomActorSpawner_AerialEnemies.tscn" type="PackedScene" id=2]
[ext_resource path="res://src/Objects/RandomActorSpawner_GroundEnemies.tscn" type="PackedScene" id=3]
[ext_resource path="res://src/Actors/Enemies/GroundedEnemy_Turret.tscn" type="PackedScene" id=4]
[ext_resource path="res://src/Actors/Enemies/AerialEnemy_Turret.tscn" type="PackedScene" id=5]
[ext_resource path="res://src/Actors/Enemies/GroundedEnemy_GroundWave.tscn" type="PackedScene" id=6]
[ext_resource path="res://assets/art/Gradient/palette_swap_mapping.gdshader" type="Shader" id=7]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 750, 112 )

[sub_resource type="ShaderMaterial" id=2]
shader = ExtResource( 7 )
shader_param/original_0 = Color( 0.34902, 0.34902, 0.34902, 1 )
shader_param/original_1 = Color( 0.717647, 0.717647, 0.717647, 1 )
shader_param/original_2 = null
shader_param/original_3 = null
shader_param/original_4 = null
shader_param/original_5 = null
shader_param/original_6 = null
shader_param/original_7 = null
shader_param/replace_0 = Color( 0.607843, 0.027451, 0.858824, 1 )
shader_param/replace_1 = Color( 0.792157, 0.85098, 0.0470588, 1 )
shader_param/replace_2 = null
shader_param/replace_3 = null
shader_param/replace_4 = null
shader_param/replace_5 = null
shader_param/replace_6 = null
shader_param/replace_7 = null
shader_param/color_count = 2

[sub_resource type="Animation" id=3]
resource_name = "attack"
length = 0.7
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 16, 17, 18, 19, 20, 21, 22 ]
}

[sub_resource type="Animation" id=4]
resource_name = "cast"
length = 0.2
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 30, 31 ]
}

[sub_resource type="Animation" id=5]
resource_name = "death"
length = 1.2
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 32, 33, 34, 35, 36, 37, 38, 39 ]
}
tracks/1/type = "method"
tracks/1/path = NodePath("AnimationPlayerState")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1.1 ),
"transitions": PoolRealArray( 1, 1 ),
"values": [ {
"args": [  ],
"method": "OwnerDisableCollision"
}, {
"args": [  ],
"method": "OwnerQueueFree"
} ]
}

[sub_resource type="Animation" id=6]
resource_name = "idle"
length = 0.2
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ 0, 0 ]
}

[sub_resource type="Animation" id=7]
resource_name = "range_attack"
length = 0.8
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 24, 25, 26, 27, 28, 29, 30, 31 ]
}

[sub_resource type="Animation" id=8]
resource_name = "start_cast"
length = 0.4
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ 24, 25, 26, 27 ]
}

[sub_resource type="Animation" id=9]
resource_name = "walk"
length = 0.4
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 1,
"values": [ 8, 9, 10, 11 ]
}

[node name="LevelRoom_Template" instance=ExtResource( 1 )]

[node name="TileMap_Platform" parent="." index="1"]
tile_data = PoolIntArray( 262151, 536871003, 0, 262152, 536871003, 0, 262153, 536871003, 0, 393252, 95, 0, 393253, 536871009, 0, 393254, 536871007, 0, 655392, 95, 0, 655393, 536871009, 0, 655394, 536871007, 0, 655396, 95, 0, 655397, 96, 0, 917505, 95, 0, 917506, 536871009, 0, 917507, 536871007, 0, 917533, 95, 0, 917534, 536871007, 0, 917536, 95, 0, 917537, 536871009, 0, 917538, 96, 0, 917540, 95, 0, 917541, 536871009, 0, 917542, 536871007, 0, 1179649, 95, 0, 1179650, 536871009, 0, 1179651, 536871007, 0, 1179680, 95, 0, 1179681, 536871009, 0, 1179682, 536871007, 0, 1179684, 95, 0, 1179685, 536871009, 0, 1179686, 96, 0 )

[node name="TileMap" parent="." index="2"]
tile_data = PoolIntArray( 0, 536870930, 0, 1, 536870929, 0, 2, 536870929, 0, 3, 536870929, 0, 4, 536870928, 0, 5, 536870930, 0, 6, 536870928, 0, 7, 536870930, 0, 8, 536870929, 0, 9, 536870929, 0, 10, 536870929, 0, 11, 536870929, 0, 12, 536870928, 0, 13, 1610612754, 0, 14, 1610612753, 0, 15, 1610612773, 0, 16, 1073741922, 0, 17, 1073741923, 0, 18, 1073741872, 0, 19, 1073741864, 0, 20, 1073741923, 0, 21, 1073741872, 0, 22, 1610612785, 0, 23, 1610612835, 0, 24, 1610612835, 0, 25, 1610612834, 0, 26, 1073741922, 0, 27, 1073741923, 0, 28, 1073741923, 0, 29, 1610612834, 0, 30, 1073741922, 0, 31, 1073741923, 0, 32, 1073741939, 0, 33, 1073741923, 0, 34, 1073741873, 0, 35, 16, 0, 36, 17, 0, 37, 17, 0, 38, 17, 0, 39, 18, 0, 65536, 536870930, 0, 65537, 536870928, 0, 65538, -2147483554, 0, 65561, -536870798, 0, 65575, -1073741806, 0, 131072, -2147483632, 0, 131073, 536870934, 0, 131074, 536870928, 0, 131075, -2147483554, 0, 131097, -536870798, 0, 131111, -1073741781, 0, 196608, -2147483631, 0, 196610, 536870934, 0, 196611, 536870928, 0, 196612, -2147483554, 0, 196626, 92, 0, 196627, 37, 0, 196628, 18, 0, 196629, 40, 0, 196630, 28, 0, 196633, -536870798, 0, 196647, -1073741726, 0, 262144, -2147483631, 0, 262147, 536870934, 0, 262148, 536870929, 0, 262149, 536870923, 0, 262150, 536870973, 0, 262154, 536870970, 0, 262155, 536870930, 0, 262156, 536870930, 0, 262157, 536870930, 0, 262158, 536870923, 0, 262159, 536870954, 0, 262160, 536871011, 0, 262161, 536870958, 0, 262162, 536870929, 0, 262163, 536870929, 0, 262164, 536870929, 0, 262165, 536870929, 0, 262166, 536870929, 0, 262167, 536870929, 0, 262168, 536870929, 0, 262169, 536870928, 0, 262170, 1073741840, 0, 262171, 1073741841, 0, 262172, 1073741841, 0, 262173, 1073741842, 0, 262174, 536870960, 0, 262175, 536871011, 0, 262176, 42, 0, 262177, 11, 0, 262178, 536870954, 0, 262179, 536870947, 0, 262183, -1073741777, 0, 327680, -2147483631, 0, 327684, -1073741710, 0, 327715, -2147483613, 0, 327719, -2147483630, 0, 393216, -2147483631, 0, 393220, -1073741710, 0, 393251, -2147483549, 0, 393255, -1610612720, 0, 458752, -2147483630, 0, 458756, -1073741776, 0, 458787, -2147483600, 0, 458791, -1610612719, 0, 524288, -1610612720, 0, 524292, -1073741725, 0, 524296, -1610612720, 0, 524297, 16, 0, 524298, 17, 0, 524299, 52, 0, 524300, 98, 0, 524301, 99, 0, 524302, 99, 0, 524303, 536871010, 0, 524304, 98, 0, 524305, 115, 0, 524306, 99, 0, 524307, 536871010, 0, 524308, 536870959, 0, 524309, 536870929, 0, 524310, 536870929, 0, 524311, 536870929, 0, 524312, 536870929, 0, 524313, 536870929, 0, 524314, 536870955, 0, 524315, 536871027, 0, 524316, 536870953, 0, 524317, 536870929, 0, 524318, 536870929, 0, 524319, 536870928, 0, 524323, -536870894, 0, 524327, -1610612719, 0, 589824, -1610612718, 0, 589828, -1073741725, 0, 589832, -1610612719, 0, 589851, -1073741710, 0, 589855, -1073741812, 0, 589859, -536870901, 0, 589863, -1610612718, 0, 655360, -1610612720, 0, 655364, -1073741725, 0, 655368, -1610612718, 0, 655387, -1073741710, 0, 655391, -1073741781, 0, 655395, -536870895, 0, 655399, -1073741806, 0, 720896, -1610612719, 0, 720900, -1073741726, 0, 720904, -2147483632, 0, 720922, 101, 0, 720923, 536871012, 0, 720924, 536871013, 0, 720927, -1073741726, 0, 720931, -536870895, 0, 720935, -1073741813, 0, 786432, -1610612718, 0, 786436, -2147483550, 0, 786440, -2147483631, 0, 786459, 536871014, 0, 786463, -2147483550, 0, 786467, -536870896, 0, 786471, -1073741808, 0, 851968, -2147483632, 0, 851972, -2147483549, 0, 851976, -2147483630, 0, 851994, 1073741925, 0, 851995, 1073741924, 0, 851996, 1610612837, 0, 851999, -2147483549, 0, 852003, -2147483632, 0, 852007, -2147483613, 0, 917504, -2147483631, 0, 917508, -2147483605, 0, 917512, 16, 0, 917513, 1610612843, 0, 917514, 1610612843, 0, 917515, 17, 0, 917516, 17, 0, 917517, 11, 0, 917518, 536870929, 0, 917519, 536870929, 0, 917520, 536870948, 0, 917521, 98, 0, 917522, 99, 0, 917523, 43, 0, 917524, 46, 0, 917525, 99, 0, 917526, 99, 0, 917527, 536871010, 0, 917528, 98, 0, 917529, 99, 0, 917530, 42, 0, 917531, 17, 0, 917532, 18, 0, 917535, -2147483599, 0, 917539, -2147483630, 0, 917543, -2147483605, 0, 983040, -2147483631, 0, 983044, -2147483631, 0, 983071, -1610612720, 0, 983075, -2147483632, 0, 983079, -1073741782, 0, 1048576, -2147483631, 0, 1048580, -2147483631, 0, 1048607, -1610612695, 0, 1048611, -2147483631, 0, 1048615, -1073741726, 0, 1114112, -2147483630, 0, 1114116, -2147483630, 0, 1114143, -1610612688, 0, 1114147, -2147483631, 0, 1114151, -2147483550, 0, 1179648, -2147483632, 0, 1179652, 16, 0, 1179653, 17, 0, 1179654, 17, 0, 1179655, 52, 0, 1179656, 98, 0, 1179657, 99, 0, 1179658, 43, 0, 1179659, 1610612843, 0, 1179660, 1610612843, 0, 1179661, 536870929, 0, 1179662, 536870929, 0, 1179663, 536870954, 0, 1179664, 536871011, 0, 1179665, 536871010, 0, 1179666, 98, 0, 1179667, 99, 0, 1179668, 99, 0, 1179669, 99, 0, 1179670, 99, 0, 1179671, 115, 0, 1179672, 43, 0, 1179673, 17, 0, 1179674, 17, 0, 1179675, 17, 0, 1179676, 18, 0, 1179677, 16, 0, 1179678, 17, 0, 1179679, 18, 0, 1179683, -2147483636, 0, 1179687, -1073741778, 0, 1245184, -2147483631, 0, 1245199, -1610612622, 0, 1245219, -1073741710, 0, 1245223, -1073741808, 0, 1310720, -2147483631, 0, 1310735, -1610612622, 0, 1310755, -1073741710, 0, 1310759, -536870894, 0, 1376256, -2147483630, 0, 1376271, -1610612622, 0, 1376291, -1073741710, 0, 1376295, -536870896, 0, 1441792, 536870930, 0, 1441793, 536870929, 0, 1441794, 536870929, 0, 1441795, 536870929, 0, 1441796, 41, 0, 1441797, 115, 0, 1441798, 99, 0, 1441799, 99, 0, 1441800, 536871010, 0, 1441801, 98, 0, 1441802, 99, 0, 1441803, 99, 0, 1441804, 99, 0, 1441805, 42, 0, 1441806, 41, 0, 1441807, 536871010, 0, 1441808, 98, 0, 1441809, 42, 0, 1441810, 536870928, 0, 1441811, 536870960, 0, 1441812, 536871011, 0, 1441813, 536870947, 0, 1441814, 536870924, 0, 1441815, 41, 0, 1441816, 536871010, 0, 1441817, 98, 0, 1441818, 536871011, 0, 1441819, 536871011, 0, 1441820, 536870958, 0, 1441821, 536870929, 0, 1441822, 536870928, 0, 1441823, 536870930, 0, 1441824, 536870929, 0, 1441825, 536870929, 0, 1441826, 536870929, 0, 1441827, 536870928, 0, 1441828, 1610612754, 0, 1441829, 1610612753, 0, 1441830, 1610612753, 0, 1441831, 1610612752, 0 )

[node name="RoomLabel" parent="." index="7"]
margin_left = 108.0
margin_top = 48.0
margin_right = 236.0
margin_bottom = 112.0
text = "LEVEL 15
"

[node name="BaseGroundedEnemy_Bullet" parent="." index="8" instance=ExtResource( 4 )]
position = Vector2( 834, 417 )

[node name="RandomActorSpawner_AerialEnemies" parent="." index="9" instance=ExtResource( 2 )]
position = Vector2( 208, 496 )

[node name="RandomActorSpawner_GroundEnemies" parent="." index="10" instance=ExtResource( 3 )]
position = Vector2( 1000, 672 )

[node name="RandomActorSpawner_GroundEnemies2" parent="." index="11" instance=ExtResource( 3 )]
position = Vector2( 192, 672 )

[node name="RandomActorSpawner_GroundEnemies3" parent="." index="12" instance=ExtResource( 3 )]
position = Vector2( 352, 72 )

[node name="RandomActorSpawner_GroundEnemies4" parent="." index="13" instance=ExtResource( 3 )]
position = Vector2( 1048, 88 )

[node name="RandomActorSpawner_GroundEnemies5" parent="." index="14" instance=ExtResource( 3 )]
position = Vector2( 824, 216 )

[node name="RandomActorSpawner_GroundEnemies6" parent="." index="15" instance=ExtResource( 3 )]
position = Vector2( 368, 216 )

[node name="AerialEnemy_Turret" parent="." index="16" instance=ExtResource( 5 )]
position = Vector2( 315, 320 )

[node name="Miniboss_GroundWave" parent="." index="18" instance=ExtResource( 6 )]
position = Vector2( 835, 544 )
collision_layer = 2
bUseGravity = false
bIsMiniboss = true

[node name="CollisionShape2D" parent="Miniboss_GroundWave/AIControllerGrounded/DetectionRange" index="0"]
position = Vector2( 0, -1 )
shape = SubResource( 1 )

[node name="AbilitySystemComponent" parent="Miniboss_GroundWave" index="2"]
InitStat_HP = 500.0
InitStat_Movespeed = 0.0

[node name="ShootAbility" parent="Miniboss_GroundWave/AbilitySystemComponent" index="0"]
AbilityMaxUseCount = 0
ActorToSpawnPath = "res://src/Objects/Bullets/Miniboss_GroundSpawner.tscn"

[node name="Sprite" parent="Miniboss_GroundWave/AnimationPlayerStateScene" index="0"]
material = SubResource( 2 )

[node name="AnimationPlayerState" parent="Miniboss_GroundWave/AnimationPlayerStateScene" index="1"]
anims/attack = SubResource( 3 )
anims/cast = SubResource( 4 )
anims/death = SubResource( 5 )
anims/idle = SubResource( 6 )
anims/range_attack = SubResource( 7 )
anims/start_cast = SubResource( 8 )
anims/walk = SubResource( 9 )

[editable path="Door_Left"]
[editable path="Door_Right"]
[editable path="Door_Up"]
[editable path="Door_Down"]
[editable path="Miniboss_GroundWave"]
[editable path="Miniboss_GroundWave/AIControllerGrounded"]
[editable path="Miniboss_GroundWave/AbilitySystemComponent/ShootAbility"]
[editable path="Miniboss_GroundWave/AnimationPlayerStateScene"]
